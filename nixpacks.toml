# Nixpacks configuration for Vite React app

providers = ["node"]

[phases.setup]
nixPkgs = ["curl", "bash", "unzip"]
cmds = ["export BUN_INSTALL=/usr/local/bun && curl -fsSL https://bun.sh/install | bash"]

[phases.install]
dependsOn = ["setup"]
cmds = ["/usr/local/bun/bin/bun install --frozen-lockfile"]

[phases.build]
dependsOn = ["install"]
cmds = ["/usr/local/bun/bin/bun run build"]

[start]
cmd = "caddy run --config /app/Caddyfile --adapter caddyfile"

